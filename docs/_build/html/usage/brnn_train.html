

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>brnn_train &mdash; prot_brnn  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="brnn_predict" href="brnn_predict.html" />
    <link rel="prev" title="Getting Started" href="../getting_started.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> prot_brnn
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">brnn_train</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="brnn_predict.html">brnn_predict</a></li>
<li class="toctree-l1"><a class="reference internal" href="brnn_optimize.html">brnn_optimize</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">Module Documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">prot_brnn</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>brnn_train</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/usage/brnn_train.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="brnn-train">
<h1>brnn_train<a class="headerlink" href="#brnn-train" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">brnn_train</span></code> is a command for training a BRNN with specified parameters. The user specifies the parameters and data and a trained BRNN will be saved to disk along with a plot that provides a performance estimate.</p>
<p>Once prot_brnn is installed, the user can run <code class="docutils literal notranslate"><span class="pre">brnn_train</span></code> from the command line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ brnn_train data_file output_network &lt;flags&gt;
</pre></div>
</div>
<p>Where <cite>data_file</cite> specifies the path to the whitespace-separated datafile and <cite>output_network</cite> is the path to where the final trained network will be saved on disk. Of note, the output images from this script will be saved to the same directory as <cite>output_network</cite>.</p>
<p><strong>Required flags:</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--datatype</span></code> : Describes how values are formatted in <cite>datafile</cite>. Should be ‘sequence’ if there is a single value per sequence, or ‘residues’ if there are values for every residue in each sequence. See the example datasets in the <strong>data</strong> folder for more information.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-nc</span></code> : The number of classes for the machine learning task. If the task is regression, then specify ‘1’.</p></li>
</ul>
</div></blockquote>
<p><strong>Optional flags:</strong></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--help</span></code> / <code class="docutils literal notranslate"><span class="pre">-h</span></code> : Display a help message.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-lr</span></code> : Learning rate of the network (default is 0.001). Must be a float between 0 and 1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-nl</span></code> : Number of hidden layers in the BRNN (default is 1). Must be a positive integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-hs</span></code> : Size of hidden vectors within the BRNN (default is 5). Must be a positive integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-b</span></code> : Training batch size (default is 32). Must be a positive integer, and ideally should be in the range of 50-500. Powers of 2 (64, 128, 256, etc.) are optimized for slightly faster performance.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-e</span></code> : Number of training epochs (default is 30). Function varies depending on <code class="docutils literal notranslate"><span class="pre">--stop</span></code> flag.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--stop</span></code> : Stop condition to terminate training. Must be either ‘auto’ or ‘iter’ (default is ##). If ‘iter’, then train for exactly <code class="docutils literal notranslate"><span class="pre">-e</span></code> epochs and stop. If ‘auto’, then train until performance as plateaued for <code class="docutils literal notranslate"><span class="pre">-e</span></code> epochs.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--split</span></code> : Path to split_file for manually dividing dataset into training, validation and test sets.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--excludeSeqID</span></code> : Include this flag if the <cite>data_file</cite> is formatted such that it does not have sequence IDs as the first column in each row.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--encodeBiophysics</span></code> : Include this flag if you wish to represent each amino acid as a length ## vector representing biophysical properties, rather than a length 20 one-hot vector.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--verbose</span></code> / <code class="docutils literal notranslate"><span class="pre">-v</span></code> : The level of information that should be printed to console during training. There will be no output if this flag is not included, and maximum output if this flag is included twice or more.</p></li>
</ul>
</div></blockquote>
<p><strong>Output:</strong></p>
<p>After running <code class="docutils literal notranslate"><span class="pre">brnn_train</span></code>, several files will be saved to disk. Firstly, the saved network weights from the training process will be located at the path provided by <cite>output_network</cite>. Additionally, there will be two PNG images saved to this same directory. The first, called ‘train_test.png’ displays the network’s performance on the training and validation sets over the course of training. The second image describes the network performance on the held out test set, and will vary depending on the data format and machine learning task. If training a network for a classification task, the image will be a confusion matrix. If training for a regression task, the image will be a scatterplot comparing the predicted and true values of the test set sequences.</p>
<p>Output text detailing network performance across training can be printed to console if the <code class="docutils literal notranslate"><span class="pre">--verbose</span></code> flag is provided.</p>
<div class="toctree-wrapper compound">
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="brnn_predict.html" class="btn btn-neutral float-right" title="brnn_predict" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../getting_started.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Holehouse Lab. Project structure based on the Computational Molecular Science Python Cookiecutter version 1.3

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>